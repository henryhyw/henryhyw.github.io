{"version":3,"file":"js/570.a92182dc.js","mappings":"sKAAA,MAAMA,EAAc,6BAEpB,SAASC,IACL,MAAMC,EAASC,SAASC,eAAe,sBACvC,IAAKF,EACD,OAEJ,MAAMG,EAAc,KACpBH,EAAOI,MAAMC,OAAUL,EAAOM,YAAcH,EAAe,IAC/D,CAEA,SAASI,IACiB,qBAAXC,SAGPA,OAAOV,KAGXU,OAAOC,iBAAiB,SAAUV,GAClCS,OAAOV,IAAe,GAC1B,CAEA,SAASY,IACL,MAAMC,EAASV,SAASW,cAAc,OAMtC,OALAD,EAAOE,UAAY,iBACnBF,EAAOG,UAAY,6HAIZH,CACX,CAEO,SAASI,IACZ,SAASC,IACL,IACI,MAAMC,EAAmBhB,SAASiB,cAAc,kBAChD,IAAKD,EACD,MAAM,IAAIE,MAAM,+BAGpB,MAAMC,EAAanB,SAASoB,KAAKC,UAAUC,SAAS,aAC9CC,EAAYJ,EACZ,kGACA,kGAENH,EAAiBH,UAAY,GAC7BG,EAAiBK,UAAUG,IAAI,0BAE/B,MAAMd,EAASD,IACfO,EAAiBS,YAAYf,GAE7B,MAAMX,EAASC,SAASW,cAAc,UACtCZ,EAAO2B,GAAK,qBACZ3B,EAAO4B,IAAMJ,EACbxB,EAAOI,MAAMyB,MAAQ,OACrB7B,EAAOI,MAAM0B,OAAS,IACtB9B,EAAO+B,iBAAkB,EACzB/B,EAAOgC,QAAU,sHAEjBhC,EAAOS,iBAAiB,OAAQ,KAC5BT,EAAOsB,UAAUG,IAAI,8BACrBd,EAAOW,UAAUG,IAAI,0BACrBQ,WAAW,IAAMtB,EAAOuB,SAAU,KAClCnC,MAGJkB,EAAiBS,YAAY1B,GAC7BD,IACAQ,GACJ,CAAE,MAAO4B,GACLC,QAAQD,MAAMA,EAAME,QACxB,CACJ,CAE4B,YAAxBpC,SAASqC,WACTrC,SAASQ,iBAAiB,mBAAoBO,GAE9CA,GAER,C","sources":["webpack://personalpage/./src/assets/js/loadtrafficreport.js"],"sourcesContent":["const RESIZE_FLAG = '__trafficReportResizeBound';\n\nfunction adjustIframeHeight() {\n    const iframe = document.getElementById('trafficReportFrame');\n    if (!iframe) {\n        return;\n    }\n    const aspectRatio = 1068 / 600;\n    iframe.style.height = (iframe.clientWidth * aspectRatio) + 'px';\n}\n\nfunction bindResizeHandler() {\n    if (typeof window === 'undefined') {\n        return;\n    }\n    if (window[RESIZE_FLAG]) {\n        return;\n    }\n    window.addEventListener('resize', adjustIframeHeight);\n    window[RESIZE_FLAG] = true;\n}\n\nfunction createLoader() {\n    const loader = document.createElement('div');\n    loader.className = 'traffic-loader';\n    loader.innerHTML = `\n        <span class=\"traffic-loader__spinner\" aria-hidden=\"true\"></span>\n        <p>Loading traffic insightsâ€¦</p>\n    `;\n    return loader;\n}\n\nexport function initScript() {\n    function onDOMContentLoaded() {\n        try {\n            const trafficContainer = document.querySelector('.trafficReport');\n            if (!trafficContainer) {\n                throw new Error('Traffic container not found');\n            }\n\n            const isDarkMode = document.body.classList.contains('dark-mode');\n            const iframeSrc = isDarkMode\n                ? 'https://lookerstudio.google.com/embed/reporting/fa45582a-0947-4aa9-a259-df74aaaf38a1/page/EkW8D'\n                : 'https://lookerstudio.google.com/embed/reporting/4a46ee2f-a660-48a5-8717-eea7cd8eaaa2/page/EkW8D';\n\n            trafficContainer.innerHTML = '';\n            trafficContainer.classList.add('traffic-report-wrapper');\n\n            const loader = createLoader();\n            trafficContainer.appendChild(loader);\n\n            const iframe = document.createElement('iframe');\n            iframe.id = 'trafficReportFrame';\n            iframe.src = iframeSrc;\n            iframe.style.width = '100%';\n            iframe.style.border = '0';\n            iframe.allowFullscreen = true;\n            iframe.sandbox = 'allow-storage-access-by-user-activation allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox';\n\n            iframe.addEventListener('load', () => {\n                iframe.classList.add('traffic-report-frame-ready');\n                loader.classList.add('traffic-loader--hidden');\n                setTimeout(() => loader.remove(), 600);\n                adjustIframeHeight();\n            });\n\n            trafficContainer.appendChild(iframe);\n            adjustIframeHeight();\n            bindResizeHandler();\n        } catch (error) {\n            console.error(error.message);\n        }\n    }\n\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', onDOMContentLoaded);\n    } else {\n        onDOMContentLoaded();\n    }\n}\n"],"names":["RESIZE_FLAG","adjustIframeHeight","iframe","document","getElementById","aspectRatio","style","height","clientWidth","bindResizeHandler","window","addEventListener","createLoader","loader","createElement","className","innerHTML","initScript","onDOMContentLoaded","trafficContainer","querySelector","Error","isDarkMode","body","classList","contains","iframeSrc","add","appendChild","id","src","width","border","allowFullscreen","sandbox","setTimeout","remove","error","console","message","readyState"],"sourceRoot":""}